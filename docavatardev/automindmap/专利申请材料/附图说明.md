# 附图说明

## 图1：系统整体架构图

```
┌─────────────────────────────────────────────────────────────┐
│                    用户界面层 (UI Layer)                      │
├─────────────────┬─────────────────┬─────────────────────────┤
│   PDF/网页查看器  │    AI配置面板    │   Markdown编辑器        │
│                │                │                        │
│   • PDF渲染     │   • 模型选择     │   • 实时编辑            │
│   • 网页加载     │   • API配置     │   • 语法高亮            │
│   • 截图功能     │   • 提示词设置   │   • 自动保存            │
└─────────────────┴─────────────────┴─────────────────────────┤
│                    思维导图展示区                            │
│   • 交互式导图   • 语音朗读   • 节点高亮   • 智能导航        │
├─────────────────────────────────────────────────────────────┤
│                   业务逻辑层 (Logic Layer)                   │
├─────────────────┬─────────────────┬─────────────────────────┤
│  多模态输入处理   │   AI内容分析     │   数据转换与渲染         │
│                │                │                        │
│  • PDF解析      │   • 模型调用     │   • Markdown转换        │
│  • 网页抓取      │   • 内容理解     │   • 树形结构生成         │
│  • 图像处理      │   • 结构化输出   │   • 可视化渲染          │
└─────────────────┴─────────────────┴─────────────────────────┤
│                   数据服务层 (Service Layer)                │
├─────────────────┬─────────────────┬─────────────────────────┤
│   文件处理服务    │   AI模型接口     │   本地存储服务          │
│                │                │                        │
│  • PDF.js      │   • OpenAI API  │   • 用户设置            │
│  • html2canvas │   • 通义千问API  │   • API密钥             │
│  • 文件上传      │   • Claude API  │   • 历史记录            │
└─────────────────┴─────────────────┴─────────────────────────┘
```

**说明**：展示了系统的三层架构设计，包括用户界面层、业务逻辑层和数据服务层，以及各层之间的交互关系。

## 图2：用户界面布局图

```
┌─────────────────────────────────────────────────────────────┐
│                        顶部导航栏                            │
│  [Logo] 智图AI    [设置] [帮助] [关于]                        │
├─────────────────────────┬───────────────────────────────────┤
│                        │                                  │
│      左侧内容区          │           右侧编辑区               │
│     (2/3 宽度)          │          (1/3 宽度)              │
│                        │                                  │
│  ┌─────────────────────┐ │  ┌─────────────────────────────┐  │
│  │   PDF/网页查看器     │ │  │      Markdown编辑器         │  │
│  │                    │ │  │                            │  │
│  │  [上传PDF] [加载网页] │ │  │  # 主题                     │  │
│  │                    │ │  │  ## 子主题                  │  │
│  │  ┌───────────────┐  │ │  │  - 要点1                   │  │
│  │  │   内容展示区   │  │ │  │  - 要点2                   │  │
│  │  │              │  │ │  │                            │  │
│  │  │              │  │ │  │  [生成思维导图]              │  │
│  │  └───────────────┘  │ │  └─────────────────────────────┘  │
│  │                    │ │                                  │
│  │  [截图] [复制文字]   │ │  ┌─────────────────────────────┐  │
│  └─────────────────────┘ │  │       思维导图展示区         │  │
│                        │  │                            │  │
│  ┌─────────────────────┐ │  │    ○ 主题                  │  │
│  │    AI配置面板       │ │  │   ╱ ╲                     │  │
│  │                    │ │  │  ○   ○ 子主题              │  │
│  │  模型: [GPT-4 ▼]    │ │  │                            │  │
│  │  API密钥: [****]    │ │  │  [朗读] [暂停] [重置]       │  │
│  │                    │ │  └─────────────────────────────┘  │
│  │  [AI处理内容]       │ │                                  │
│  └─────────────────────┘ │                                  │
└─────────────────────────┴───────────────────────────────────┘
```

**说明**：展示了四象限布局设计，左侧为内容输入和AI配置区域，右侧为Markdown编辑和思维导图展示区域。

## 图3：多模态输入处理流程图

```
开始
  │
  ▼
┌─────────────┐
│  用户输入    │
│  内容选择    │
└─────┬───────┘
      │
      ▼
┌─────────────────────────────────────┐
│           输入类型判断               │
├─────────┬─────────┬─────────┬───────┤
│  PDF文档 │  网页URL │  图片   │ 文本  │
└─────┬───┴─────┬───┴─────┬───┴───┬───┘
      │         │         │       │
      ▼         ▼         ▼       ▼
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│PDF.js   │ │iframe   │ │html2    │ │直接    │
│解析渲染  │ │加载网页  │ │canvas   │ │输入    │
│         │ │         │ │截图     │ │处理    │
└─────┬───┘ └─────┬───┘ └─────┬───┘ └─────┬───┘
      │           │           │           │
      ▼           ▼           ▼           ▼
┌─────────────────────────────────────────────┐
│              内容预处理                      │
│  • 格式标准化  • 编码转换  • 质量检查        │
└─────────────────┬───────────────────────────┘
                  │
                  ▼
┌─────────────────────────────────────────────┐
│              AI内容分析                      │
│  • 模型选择    • 提示词构建  • API调用       │
└─────────────────┬───────────────────────────┘
                  │
                  ▼
                结束
```

**说明**：展示了系统如何处理不同类型的输入内容，包括PDF、网页、图片和文本的处理流程。

## 图4：AI内容分析流程图

```
开始
  │
  ▼
┌─────────────┐
│  接收输入    │
│  内容数据    │
└─────┬───────┘
      │
      ▼
┌─────────────┐
│  内容类型    │
│  识别判断    │
└─────┬───────┘
      │
      ▼
┌─────────────────────────────────┐
│           AI模型选择             │
├─────────┬─────────┬─────────────┤
│  GPT-4  │ 通义千问 │   Claude    │
└─────┬───┴─────┬───┴─────┬───────┘
      │         │         │
      ▼         ▼         ▼
┌─────────────────────────────────┐
│         提示词构建               │
│  系统提示词 + 用户模板 + 内容    │
└─────────────┬───────────────────┘
              │
              ▼
┌─────────────┐    ┌─────────────┐
│  API调用    │───▶│  响应处理    │
│  发送请求    │    │  结果解析    │
└─────────────┘    └─────┬───────┘
                         │
                         ▼
┌─────────────────────────────────┐
│           结果优化               │
│  • 格式标准化  • 结构验证        │
│  • 错误处理    • 质量评估        │
└─────────────┬───────────────────┘
              │
              ▼
┌─────────────┐
│  输出结构化  │
│  Markdown   │
└─────────────┘
              │
              ▼
            结束
```

**说明**：详细展示了AI内容分析的完整流程，从内容识别到最终输出结构化数据。

## 图5：思维导图生成流程图

```
开始
  │
  ▼
┌─────────────┐
│  Markdown   │
│  数据输入    │
└─────┬───────┘
      │
      ▼
┌─────────────┐
│  数据解析    │
│  结构提取    │
└─────┬───────┘
      │
      ▼
┌─────────────────────────────────┐
│           树形结构构建           │
│  • 层级关系识别                 │
│  • 节点ID分配                   │
│  • 父子关系建立                 │
└─────────────┬───────────────────┘
              │
              ▼
┌─────────────┐    ┌─────────────┐
│  Markmap    │───▶│  D3.js      │
│  数据转换    │    │  可视化渲染  │
└─────────────┘    └─────┬───────┘
                         │
                         ▼
┌─────────────────────────────────┐
│           交互功能集成           │
│  • 缩放平移  • 节点点击          │
│  • 样式应用  • 动画效果          │
└─────────────┬───────────────────┘
              │
              ▼
┌─────────────┐    ┌─────────────┐
│  语音朗读    │    │  智能导航    │
│  功能集成    │    │  功能集成    │
└─────────────┘    └─────┬───────┘
                         │
                         ▼
┌─────────────┐
│  完整思维    │
│  导图展示    │
└─────────────┘
              │
              ▼
            结束
```

**说明**：展示了从Markdown数据到最终交互式思维导图的完整生成过程。

## 图6：语音交互功能示意图

```
┌─────────────────────────────────────────────────────────────┐
│                    语音交互控制面板                          │
├─────────────┬─────────────┬─────────────┬─────────────────┤
│   [开始朗读] │   [暂停]    │   [停止]    │   [设置]        │
└─────────────┴─────────────┴─────────────┴─────────────────┘
              │
              ▼
┌─────────────────────────────────────────────────────────────┐
│                    思维导图展示区                            │
│                                                            │
│     ○ 主题 ←── 当前朗读节点（高亮显示）                      │
│    ╱ ╲                                                     │
│   ○   ○ 子主题                                             │
│  ╱│   │╲                                                   │
│ ○ ○   ○ ○ 详细内容                                         │
│                                                            │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │              打字机效果展示区                            │ │
│ │                                                        │ │
│ │ 这是正在逐字显示的文本内容...█                           │ │
│ │                                                        │ │
│ └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                    语音设置面板                              │
├─────────────┬─────────────┬─────────────┬─────────────────┤
│ 语音选择:    │ 语速调节:    │ 音量调节:    │ 语言检测:       │
│ [中文女声▼]  │ [1.0x ▼]   │ [80% ▼]    │ [自动 ▼]       │
└─────────────┴─────────────┴─────────────┴─────────────────┘

时序同步示意:
语音朗读: ████████████████████████████████████████
打字效果: ████████████████████████████████████████
节点高亮: ████████████████████████████████████████
自动居中: ████████████████████████████████████████
```

**说明**：展示了语音交互功能的界面设计和各种效果的时序同步关系。

## 图7：系统数据流图

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   用户输入   │───▶│  数据预处理  │───▶│  AI分析     │
│   多模态内容 │    │  格式转换    │    │  内容理解    │
└─────────────┘    └─────────────┘    └─────┬───────┘
                                           │
                                           ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  用户交互    │◀───│  思维导图    │◀───│  结构化数据  │
│  语音朗读    │    │  可视化渲染  │    │  Markdown   │
└─────────────┘    └─────────────┘    └─────────────┘
       │                   │
       ▼                   ▼
┌─────────────┐    ┌─────────────┐
│  本地存储    │    │  导出功能    │
│  用户设置    │    │  多格式输出  │
└─────────────┘    └─────────────┘
```

**说明**：展示了系统中数据的流向和处理过程，从输入到输出的完整数据流。

## 图8：技术架构层次图

```
┌─────────────────────────────────────────────────────────────┐
│                      表现层 (Presentation)                  │
│  HTML5 + CSS3 + JavaScript + 响应式设计                     │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                      框架层 (Framework)                     │
│  D3.js + Markmap + PDF.js + html2canvas + Web Speech API   │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                      业务层 (Business)                      │
│  多模态处理 + AI集成 + 数据转换 + 交互控制                    │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                      服务层 (Service)                       │
│  文件服务 + AI API服务 + 存储服务 + 网络服务                 │
└─────────────────────────────────────────────────────────────┘
┌─────────────────────────────────────────────────────────────┐
│                      基础层 (Infrastructure)                │
│  浏览器API + 本地存储 + 网络协议 + 安全机制                  │
└─────────────────────────────────────────────────────────────┘
```

**说明**：展示了系统的技术架构分层，从基础设施到用户界面的完整技术栈。 