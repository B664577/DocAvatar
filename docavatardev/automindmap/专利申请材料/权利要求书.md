# 权利要求书

## 1. 独立权利要求

**权利要求1**：一种基于多模态AI的智能文档思维导图生成系统，其特征在于，包括：

多模态内容输入模块，用于接收和处理PDF文档、网页内容、图片截图和文本等多种格式的输入内容；

AI内容分析模块，集成多种大语言模型，对输入内容进行智能分析和结构化处理；

数据转换模块，将AI分析结果转换为标准化的Markdown格式数据；

思维导图渲染模块，基于结构化数据生成交互式思维导图；

语音交互模块，提供多语言语音朗读、打字机效果和节点高亮功能；

智能导航模块，实现节点自动居中、智能折叠和渐进式内容展示。

**权利要求2**：一种基于多模态AI的智能文档思维导图生成方法，其特征在于，包括以下步骤：

S1：接收用户输入的多模态内容，包括PDF文档、网页链接、图片或文本；

S2：对输入内容进行格式识别和预处理；

S3：调用AI模型对内容进行智能分析，提取关键信息和结构关系；

S4：将AI分析结果转换为层级化的Markdown格式数据；

S5：基于Markdown数据生成交互式思维导图；

S6：提供语音朗读和智能导航功能，增强用户交互体验。

## 2. 从属权利要求

**权利要求3**：根据权利要求1所述的系统，其特征在于，所述多模态内容输入模块包括：

PDF解析子模块，使用PDF.js技术实现多页PDF文档的解析和渲染；

网页加载子模块，支持iframe方式加载外部网页，并处理跨域访问限制；

截图处理子模块，使用html2canvas技术实现指定区域的截图功能；

文本输入子模块，提供富文本编辑和Markdown格式支持。

**权利要求4**：根据权利要求1所述的系统，其特征在于，所述AI内容分析模块包括：

模型接口层，支持GPT-4、通义千问、Claude等多种大语言模型的统一调用；

内容预处理器，根据输入内容类型进行格式化和优化；

提示词管理器，支持自定义系统提示词和用户提示词模板；

API密钥管理器，实现多模型密钥的安全存储和管理。

**权利要求5**：根据权利要求1所述的系统，其特征在于，所述思维导图渲染模块包括：

数据解析器，将Markdown格式数据转换为树形结构；

节点渲染器，基于D3.js和Markmap技术实现节点的可视化渲染；

交互控制器，处理缩放、平移、点击等用户交互操作；

样式管理器，支持主题切换和自定义样式配置。

**权利要求6**：根据权利要求1所述的系统，其特征在于，所述语音交互模块包括：

语言检测器，自动识别文本内容的语言类型；

语音合成器，基于Web Speech API实现多语言语音朗读；

动画控制器，实现打字机效果和文本逐字显示动画；

同步控制器，协调语音朗读和文本动画的时序同步。

**权利要求7**：根据权利要求1所述的系统，其特征在于，所述智能导航模块包括：

节点定位器，计算目标节点在视口中的最佳显示位置；

居中算法，使用D3变换实现节点的平滑居中显示；

折叠管理器，根据节点层级和阅读进度智能控制节点的展开和折叠；

进度跟踪器，记录用户的阅读进度和访问历史。

**权利要求8**：根据权利要求2所述的方法，其特征在于，步骤S3中的AI分析过程包括：

根据内容类型选择合适的AI模型；

构建包含系统角色和用户指令的提示词；

调用AI模型API进行内容分析；

解析AI响应结果并进行格式化处理；

对分析结果进行质量评估和优化。

**权利要求9**：根据权利要求2所述的方法，其特征在于，步骤S4中的数据转换过程包括：

对AI分析结果进行结构化解析；

识别内容的层级关系和逻辑结构；

转换为标准Markdown格式；

为每个节点分配唯一标识符；

建立节点间的父子关系和深度信息。

**权利要求10**：根据权利要求2所述的方法，其特征在于，步骤S6中的交互功能包括：

根据用户设置选择合适的语音进行朗读；

在朗读过程中实现节点的自动居中和高亮显示；

提供打字机效果增强视觉体验；

支持朗读进度控制和暂停/继续操作；

实现二级主题的智能折叠管理。

## 3. 技术特征保护范围

**权利要求11**：根据权利要求1所述的系统，其特征在于，还包括：

响应式布局模块，支持桌面、平板和移动设备的自适应显示；

数据持久化模块，实现用户设置和历史记录的本地存储；

错误处理模块，提供完善的异常捕获和用户友好的错误提示；

性能优化模块，实现资源的懒加载和渲染性能优化。

**权利要求12**：根据权利要求1所述的系统，其特征在于，所述系统采用前后端分离架构，前端基于现代Web技术栈，后端提供RESTful API服务，支持云端部署和本地部署两种模式。

**权利要求13**：根据权利要求1所述的系统，其特征在于，所述系统支持多种输出格式，包括PNG图片、SVG矢量图、PDF文档和HTML网页，满足不同场景的使用需求。

**权利要求14**：根据权利要求2所述的方法，其特征在于，该方法还包括用户行为分析步骤，通过收集用户的操作数据和偏好设置，优化AI分析策略和界面交互体验。

**权利要求15**：根据权利要求2所述的方法，其特征在于，该方法支持批量处理模式，能够同时处理多个文档并生成对应的思维导图，提高工作效率。 